(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5f65aa8"],{"09b7":function(t,e,s){"use strict";s("a2e5")},"26e2":function(t,e,s){},4074:function(t,e,s){"use strict";s("74bd")},"5cbe":function(t,e,s){t.exports=s.p+"img/recommend_bg.794b6628.jpg"},"74bd":function(t,e,s){},"78d2":function(t,e,s){},"7d67":function(t,e,s){},a2e5:function(t,e,s){},b3d7:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("NavTop",{staticClass:"nav-top"},[s("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物街")])]),s("navcenter",{directives:[{name:"show",rawName:"v-show",value:t.istebfixed,expression:"istebfixed"}],ref:"control1",staticClass:"control1",attrs:{title:t.title},on:{tebclick:t.tebclick}}),s("scroll",{ref:"scroll",staticClass:"content",attrs:{pullUpLoad:!0,probeType:3},on:{pullingUp:t.loadMore,scroll:t.contentScroll}},[s("swipers",{attrs:{banners:t.banners},on:{swiperimageload:t.swiperimageload}}),s("weekpopular",{attrs:{recommends:t.recommends}}),s("navcenter",{ref:"control2",staticClass:"control2",attrs:{title:t.title},on:{tebclick:t.tebclick}}),s("Goodslist",{attrs:{goods:t.showgoods}})],1),s("backTop",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}],nativeOn:{click:function(e){return t.backclick(e)}}})],1)},n=[],i=s("6b75");function r(t){if(Array.isArray(t))return Object(i["a"])(t)}s("a4d3"),s("e01a"),s("d28b"),s("a630"),s("d3b7"),s("3ca3"),s("ddb0");function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var c=s("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return r(t)||a(t)||Object(c["a"])(t)||l()}var d=s("def1"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Swiper",t._l(t.banners,(function(e){return s("SwiperItem",[s("a",{attrs:{href:e.link}},[s("img",{attrs:{src:e.image,alt:""},on:{load:t.imgload}})])])})),1)],1)},p=[],m=s("dc2c"),h={name:"swiper",props:{banners:{type:Array}},data:function(){return{isload:!1}},components:{Swiper:m["a"],SwiperItem:m["b"]},methods:{imgload:function(){this.isload||this.$emit("swiperimageload"),this.isload=!0}}},b=h,g=s("2877"),v=Object(g["a"])(b,f,p,!1,null,"c0697740",null),w=v.exports,y=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"feature"},[o("a",{attrs:{href:"http://act.mogujie.com/zzlx67"}},[o("img",{attrs:{src:s("5cbe"),alt:""}})])])}],_={name:"weekpopular",props:{recommends:{type:Array}},data:function(){return{}},components:{},methods:{}},$=_,j=(s("dcde"),Object(g["a"])($,y,k,!1,null,"18e843b2",null)),x=j.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"control"},t._l(t.title,(function(e,o){return s("div",{staticClass:"control-item",class:{active:t.current===o},on:{click:function(e){return t.click(o)}}},[s("span",[t._v(t._s(e))])])})),0)},C=[],O={name:"navcenter",props:{title:{type:Array}},data:function(){return{current:0}},components:{},methods:{click:function(t){this.current=t,this.$emit("tebclick",t)}}},S=O,E=(s("4074"),Object(g["a"])(S,T,C,!1,null,"16af8cb2",null)),H=E.exports,A=s("9fb0"),G=s("93e1"),N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods"},t._l(t.goods,(function(t){return s("goodslistitem",{attrs:{goodsitem:t}})})),1)},z=[],I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods-item",on:{click:t.click}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.goodsitem.show.img,expression:"goodsitem.show.img"}],attrs:{alt:""},on:{load:t.imageload}}),s("div",{staticClass:"goods-info"},[s("p",[t._v(t._s(t.goodsitem.title))]),s("span",{staticClass:"price"},[t._v(t._s(t.goodsitem.price))]),s("span",{staticClass:"collect"},[t._v(t._s(t.goodsitem.cfav))])])])},M=[],U={name:"goodslistitem",props:{goodsitem:{type:Object,default:function(){return{}}}},data:function(){return{}},components:{},methods:{imageload:function(){this.$bus.$emit("itemimgload")},click:function(){this.$router.push("/detail/"+this.goodsitem.iid)}}},Y=U,J=(s("cfc3"),Object(g["a"])(Y,I,M,!1,null,"32373f57",null)),L=J.exports,P={name:"goodslist",props:{goods:{type:Array,default:function(){return[]}}},data:function(){return{}},components:{goodslistitem:L},methods:{}},q=P,B=(s("09b7"),Object(g["a"])(q,N,z,!1,null,"645356b6",null)),D=B.exports,F=s("1bab");function K(){return Object(F["a"])({url:"/home/multidata"})}function Q(t,e){return Object(F["a"])({url:"/home/data",params:{type:t,page:e}})}var R={name:"Home",data:function(){return{banners:[],recommends:[],title:["流行","精选","新款"],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},currentType:"pop",isshow:!1,teboffsettop:0,istebfixed:!1,saveY:0}},activated:function(){this.$refs.scroll.refresh(),this.$refs.scroll.scroll.scrollTo(0,this.saveY,0)},deactivated:function(){this.saveY=this.$refs.scroll.scroll.y},components:{NavTop:d["a"],swipers:w,weekpopular:x,navcenter:H,scroll:A["a"],backTop:G["a"],Goodslist:D},computed:{showgoods:function(){return this.goods[this.currentType].list}},created:function(){this.getHomeMultidatas(),this.getHomeGoodss("pop"),this.getHomeGoodss("new"),this.getHomeGoodss("sell")},mounted:function(){var t=this;this.$bus.$on("itemimgload",(function(){t.$refs.scroll&&t.$refs.scroll.refresh()}))},methods:{getHomeMultidatas:function(){var t=this;K().then((function(e){t.banners=e.data.data.banner.list,t.recommends=e.data.data.recommend.list}))},getHomeGoodss:function(t){var e=this,s=this.goods[t].page+1;Q(t,s).then((function(s){var o;(o=e.goods[t].list).push.apply(o,u(s.data.data.list)),e.goods[t].page+=1,e.$refs.scroll.scroll.finishPullUp()}))},loadMore:function(){this.getHomeGoodss(this.currentType)},tebclick:function(t){switch(t){case 0:this.currentType="pop";break;case 1:this.currentType="new";break;case 2:this.currentType="sell"}this.$refs.control1.current=t,this.$refs.control2.current=t},backclick:function(){this.$refs.scroll.scroll&&this.$refs.scroll.scroll.scrollTo(0,0,1e3)},contentScroll:function(t){this.isshow=t.y<-500,this.istebfixed=t.y<-this.teboffsettop},swiperimageload:function(){this.teboffsettop=this.$refs.control2.$el.offsetTop}}},V=R,W=(s("ea85"),Object(g["a"])(V,o,n,!1,null,"d070cd16",null));e["default"]=W.exports},cfc3:function(t,e,s){"use strict";s("78d2")},dcde:function(t,e,s){"use strict";s("7d67")},ea85:function(t,e,s){"use strict";s("26e2")}}]);
//# sourceMappingURL=chunk-b5f65aa8.f55e9901.js.map